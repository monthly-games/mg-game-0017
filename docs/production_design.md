# Dungeon Craft Tycoon - 프로덕션 디자인 문서

> game_id: game_0017
> repo: mg-game-0017
> title_kr: 던전 크래프트 타이쿤
> title_en: Dungeon Craft Tycoon
> genre_tags: crafting, idle, tycoon
> doc_type: production_design
> source_of_truth: docs/design/gdd_game_0017.json
> last_updated: 2025-12-19

---

## 1. 재미 요소 (Fun Factors)

### 1.1 핵심 재미 (Core Fun)
| 요소 | 설명 | 강도 |
|------|------|------|
| **제작** | 복잡한 레시피로 아이템 제작 | ★★★★★ |
| **경영** | 던전 상점 운영의 재미 | ★★★★★ |
| **수집** | 레시피와 재료 수집 | ★★★★☆ |
| **성장** | 제작소 업그레이드 | ★★★☆☆ |

### 1.2 만족감 요소 (Satisfaction)
- **제작 완료**: 복잡한 아이템 완성
- **고품질 제작**: 걸작 등급 아이템 생성
- **레시피 발견**: 새로운 레시피 해금
- **대량 판매**: 모험가에게 대량 판매 수익

### 1.3 도전 요소 (Challenge)
```
도전 구조:
├── 재료 수급 밸런스
├── 제작 우선순위 결정
├── 품질 시스템 (일반~걸작)
├── 특별 주문 처리
└── 던전 탐험 난이도
```

### 1.4 사회적 요소 (Social)
- **상점 방문**: 친구 상점 방문
- **재료 교환**: 친구와 재료 교환
- **랭킹**: 매출/제작 랭킹
- **협동 던전**: 함께 재료 수집

---

## 2. 게임 루프 (Game Loop)

### 2.1 코어 루프 (2~5분)
```
┌─────────────────────────────────────────────────┐
│                    코어 루프                      │
├─────────────────────────────────────────────────┤
│  [재료 확인] → [레시피 선택] → [제작 시작]        │
│       ↑                            ↓             │
│       └──── [판매] ← [제작 완료] ←┘              │
└─────────────────────────────────────────────────┘
```

**단계별 상세:**
1. **재료 확인** (10초): 보유 재료 확인
2. **레시피 선택** (20초): 제작할 아이템 결정
3. **제작 시작** (5초): 제작 슬롯에 배치
4. **제작 완료** (시간 소요): 품질 결정
5. **판매** (10초): 모험가에게 판매

### 2.2 세션 루프 (10~15분)
```
[접속] → [방치 보상] → [재료 확인] → [제작 배치] → [던전 탐험]
                                          ↓
                              [설비 업그레이드] ← [판매 수익]
```

### 2.3 메타 루프 (장기)
```
┌──────────────────────────────────────────────────────┐
│                     메타 진행                         │
├──────────────────────────────────────────────────────┤
│  [제작/판매] → [골드 축적] → [설비 확장]              │
│         ↓                              ↓             │
│  [새 레시피 해금]                 [던전 해금]         │
│         ↓                              ↓             │
│  [고급 아이템 제작] ←─────────────────┘              │
└──────────────────────────────────────────────────────┘
```

### 2.4 플로우 다이어그램
```
[앱 시작]
    ↓
[방치 보상 화면]
    ↓
[메인 상점] ─────→ [레시피북]
    │              [창고]
    │              [설비 관리]
    │              [설정]
    ↓
[제작] → [레시피 선택] → [제작 시작] → [완료]
    │
    └── [던전] → [던전 선택] → [탐험] → [보상]
```

---

## 3. BM 모델 (Business Model)

### 3.1 수익화 전략
| 채널 | 비중 | 설명 |
|------|------|------|
| **리워드 광고** | 45% | 제작 완료, 재료 2배 |
| **프리미엄 레시피** | 25% | 특별 레시피 팩 |
| **편의 기능** | 20% | 제작 슬롯, 속도 증가 |
| **광고 제거** | 10% | 일회성 구매 |

### 3.2 과금 포인트
```
비과금 유저 경험:
├── 모든 기본 레시피 해금 가능
├── 기본 제작 슬롯 3개
├── 광고 시청으로 제작 가속
└── 던전 탐험 완전 가능

과금 유저 혜택:
├── 광고 제거 ($2.99)
├── 프리미엄 레시피 팩 ($3.99~$9.99)
├── 제작 슬롯 확장 ($1.99)
├── 보석 패키지 ($0.99~$49.99)
└── 장인 패스 ($7.99/월)
```

### 3.3 가격 정책
| 상품 | 가격 | 가치 |
|------|------|------|
| 소량 보석 (100) | $0.99 | 즉시 완료 5회 |
| 중량 보석 (500) | $3.99 | 20% 보너스 |
| 대량 보석 (1200) | $7.99 | 40% 보너스 |
| 광고 제거 | $2.99 | 영구 적용 |
| 레시피 팩 | $3.99~9.99 | 티어별 레시피 |
| 장인 패스 | $7.99/월 | 일일 보석 + 제작 부스트 |

### 3.4 리텐션 메커니즘
- **일일 보상**: 출석 체크 (7일 사이클)
- **일일 퀘스트**: 제작 N회, 판매 N개
- **특별 주문**: 고수익 한정 주문
- **시즌 이벤트**: 테마 레시피 이벤트

---

## 4. 레벨 디자인 (Level Design)

### 4.1 난이도 곡선
```
복잡도
  ▲
  │                              ╭──────
  │                         ╭────╯ 전설
  │                    ╭────╯ 마스터
  │               ╭────╯ 고급
  │          ╭────╯ 중급
  │     ╭────╯ 기초
  │╭────╯
  └──────────────────────────────────────→ 레시피 티어
```

**제작 공식:**
```
제작_시간 = 기본_시간 × 티어_배율 × (1 - 설비_보너스)
품질_확률 = 기본_확률 + 설비_보너스 + 재료_품질
```

### 4.2 콘텐츠 진행
| 티어 | 해금 조건 | 새로운 요소 |
|------|----------|-------------|
| 기초 | 시작 | 무기/방어구 기본 |
| 중급 | 상점 Lv.5 | 소모품, 용광로 |
| 고급 | 상점 Lv.15 | 마법 아이템, 연금술대 |
| 마스터 | 상점 Lv.30 | 전설 재료, 마법 용광로 |
| 전설 | 상점 Lv.50 | 신화 레시피 |

### 4.3 밸런싱 공식
```dart
// 아이템 판매가
int calculateSellPrice(Item item) {
  int materialCost = item.recipe.materials.sum;
  double tierMultiplier = getTierMultiplier(item.tier);
  double qualityMultiplier = getQualityMultiplier(item.quality);
  return (materialCost * tierMultiplier * qualityMultiplier * 1.5).toInt();
}

// 품질 결정
Quality determineQuality(CraftingStation station, Recipe recipe) {
  double baseChance = 0.6; // Normal
  double stationBonus = station.qualityBonus;
  double roll = random();

  if (roll < (1 - baseChance) * stationBonus) return Quality.masterpiece;
  if (roll < (1 - baseChance) * 0.7) return Quality.excellent;
  if (roll < (1 - baseChance) * 0.4) return Quality.good;
  return Quality.normal;
}

// 방치 수익
int idleIncome(Shop shop, Duration offline) {
  return shop.autoSales * offline.inHours * shop.avgItemPrice;
}
```

### 4.4 보상 체계
| 보상 유형 | 획득 조건 | 수량 |
|-----------|----------|------|
| 판매 골드 | 아이템 판매 | 품질별 가격 |
| 던전 재료 | 던전 클리어 | 5~20개 |
| 레시피 | 던전 보스/업적 | 신규 해금 |
| 일일 보너스 | 출석 | 재료 팩 |
| 퀘스트 보상 | 퀘스트 완료 | 골드/보석 |

---

## 5. UI/UX 설계

### 5.1 정보 계층
```
레벨 1 (항상 표시):
├── 골드/보석
├── 제작 슬롯 상태
├── 진행 중인 제작
└── 알림 배지

레벨 2 (상호작용 시):
├── 레시피 상세
├── 재료 인벤토리
├── 설비 정보
└── 던전 정보

레벨 3 (팝업):
├── 제작 완료 (품질)
├── 레시피 발견
├── 설정 메뉴
└── 상점
```

### 5.2 네비게이션 흐름
```
[메인 상점]
    ├── [제작] → [레시피 선택] → [제작 시작]
    ├── [던전] → [던전 선택] → [탐험]
    ├── [창고] → [재료/아이템 목록]
    ├── [설비] → [설비 업그레이드]
    ├── [상점] → [보석/특별 상품]
    └── [설정] → [옵션]
```

### 5.3 피드백 시스템
| 이벤트 | 시각 | 청각 | 촉각 |
|--------|------|------|------|
| 제작 시작 | 제작 애니메이션 | 제작음 | - |
| 제작 완료 | 품질 연출 | 완료음 | 진동 (약) |
| 걸작 제작 | 황금 이펙트 | 팡파레 | 진동 (강) |
| 레시피 발견 | 책 펼침 연출 | 발견음 | 진동 (중) |
| 대량 판매 | 골드 쏟아짐 | 판매음 | 진동 (중) |

### 5.4 접근성
- **자동 제작**: 반복 제작 자동화
- **자동 판매**: 방치 판매 시스템
- **폰트 크기**: 3단계 조절
- **색맹 모드**: 품질 패턴 추가
- **원핸드 모드**: UI 한쪽 배치

---

## 6. 프로덕션 체크리스트

### 핵심 기능
- [x] 제작 시스템 (CraftingManager: startCrafting, completeCrafting, CraftingJob)
- [x] 품질 시스템 (Quality: normal/good/excellent/masterpiece, 확률 롤)
- [x] 던전 탐험 (DungeonManager)
- [x] 레시피 시스템 (Recipe, RecipeUnlocks: 조건부 해금)
- [ ] 방치 판매

### 콘텐츠
- [ ] 100+ 레시피 (현재 3개: iron_sword/leather_armor/wooden_shield)
- [x] 재료 시스템 (MaterialInventory, MaterialData)
- [x] 제작 스테이션 (CraftingStation enum, StationManager)
- [ ] 5+ 던전
- [ ] 튜토리얼

### 메타 시스템
- [x] 도전과제 (AchievementManager, AchievementData)
- [x] 장식 시스템 (DecorationManager, DecorationData)
- [x] 업그레이드 시스템 (UpgradeManager)
- [x] 경제 시스템 (EconomyManager)
- [ ] 친구 시스템

### 수익화
- [ ] 광고 SDK
- [ ] IAP 상품
- [x] 상점 UI (ShopManager)
- [ ] 시즌 패스

### QA/최적화
- [ ] 경제 밸런싱
- [ ] 제작 시뮬레이션
- [ ] 성능 최적화
- [ ] 크래시 리포팅

### 출시 준비
- [ ] 스토어 에셋
- [ ] 앱 설명
- [ ] 법적 문서
- [ ] 소프트 런칭

---

## 7. KPI 목표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| D1 리텐션 | 46% | Firebase Analytics |
| D7 리텐션 | 19% | Firebase Analytics |
| D30 리텐션 | 8% | Firebase Analytics |
| 세션 길이 | 8분 | 평균 세션 시간 |
| 일일 세션 | 4회 | DAU / 세션 수 |
| ARPU | $0.14~0.20 | 총 매출 / DAU |
| 광고 시청률 | 55~65% | 광고 노출 / DAU |
| 결제 전환율 | 4~5% | 결제 유저 / DAU |

---

*마지막 업데이트: 2025-12-19*
