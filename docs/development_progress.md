# MG-0017 개발 진척도

**게임명**: 던전 크래프트 타이쿤 (Dungeon Craft Tycoon)
**장르**: 제작/크래프팅 + 방치 생산 + 경영
**시작일**: 2025-07-01
**현재 진척도**: 80% (핵심 시스템 구현 완료)

---

## ✅ 프로젝트 상태

**상태**: ✅ 정상 (재구현 완료)
- 잘못된 네온 레이서 코드 전체 삭제 완료 (2025-12-17)
- GDD에 따라 타이쿤 게임 재구현 완료
- 핵심 게임 루프 동작

---

## 🎯 GDD 설계 내용

### 핵심 게임플레이
1. **재료 수집**: 방치 생산으로 다양한 재료 획득
2. **아이템 제작**: 레시피를 따라 무기, 방어구, 소모품 제작
3. **상점 운영**: 제작한 아이템을 모험가들에게 판매
4. **제작소 업그레이드**: 작업대, 용광로 등 제작 설비 개선

### 핵심 차별점
- 복잡한 제작 시스템 (5단계 레시피)
- 방치형 경영과 능동적 제작의 결합
- 품질 시스템 (일반/양호/우수/걸작)
- 다양한 제작소 (작업대, 용광로, 대장간, 연금술대, 마법부여대)

### 경제 시스템
- **골드**: 소프트 화폐 (아이템 판매, 방치 수익)
- **보석**: 하드 화폐 (즉시 완료, 프리미엄 기능)
- **재료**: 철광석, 나무, 가죽, 마법석, 희귀 보석

---

## 💻 구현 완료 내용

### 1. 게임 엔진 (100%) ✅
- ✅ Flutter + Provider 상태 관리
- ✅ GetIt DI 설정
- ✅ AudioManager 통합 (mg_common_game)
- ✅ AppColors 테마 통합
- ✅ 게임 루프 (1초 업데이트)

**파일**:
- [main.dart](../game/lib/main.dart)
- [tycoon_screen.dart](../game/lib/screens/tycoon_screen.dart)

### 2. 재료 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ MaterialType enum (5종류: ironOre, wood, leather, magicStone, rareGem)
- ✅ MaterialData (재료 정보 및 생산 속도)
- ✅ MaterialInventory (재료 관리 및 방치 생산)
- ✅ 시간 기반 자동 생산 (초당 생산량)
- ✅ 재료 소비 및 검증
- ✅ 생산 속도 업그레이드
- ✅ 오프라인 생산 계산 (최대 8시간)

**파일**:
- [material_data.dart](../game/lib/features/materials/material_data.dart)
- [material_inventory.dart](../game/lib/features/materials/material_inventory.dart)

### 3. 제작 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ RecipeTier enum (5단계: basic, intermediate, advanced, master, legendary)
- ✅ CraftingStation enum (5종류: workbench, furnace, anvil, alchemyTable, enchanting)
- ✅ Quality enum (4단계: normal, good, excellent, masterpiece)
- ✅ Recipe 데이터 모델 (10개 사전 정의 레시피)
- ✅ CraftingManager (제작 진행, 품질 롤, 완료 처리)
- ✅ CraftingJob (진행도, 남은 시간 추적)
- ✅ CraftedItem (품질별 가격 계산)
- ✅ 제작 진행도 실시간 업데이트

**파일**:
- [recipe_data.dart](../game/lib/features/crafting/recipe_data.dart)
- [crafting_manager.dart](../game/lib/features/crafting/crafting_manager.dart)

### 4. 상점 경영 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ Shop 진열대 시스템 (슬롯 확장 가능)
- ✅ Customer AI (선호 타입, 최소 품질, 예산)
- ✅ 고객 자동 생성 (30초 방문 시간)
- ✅ 아이템 판매 및 골드 획득
- ✅ 고객-아이템 매칭 로직
- ✅ 상점 확장 시스템

**파일**:
- [shop_manager.dart](../game/lib/features/shop/shop_manager.dart)

### 5. 제작소 업그레이드 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ StationData (레벨, 속도 배수, 품질 보너스)
- ✅ StationManager (5개 제작소 관리)
- ✅ 업그레이드 비용 계산 (골드 + 재료)
- ✅ 속도 보너스: +10% per level
- ✅ 품질 보너스: +5% per level
- ✅ 업그레이드 가능 여부 검증

**파일**:
- [station_manager.dart](../game/lib/features/stations/station_manager.dart)

### 6. 레시피 해금 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ UnlockRequirement (골드 비용, 상점 레벨, 선행 레시피)
- ✅ 레시피 선행 조건 체크
- ✅ 골드로 레시피 해금
- ✅ 제작 이력 추적 (선행 조건용)
- ✅ 해금 가능 레시피 필터링

**파일**:
- [recipe_unlock.dart](../game/lib/features/crafting/recipe_unlock.dart)

### 7. 화폐 및 경제 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ EconomyManager (골드, 보석)
- ✅ 골드 획득/소비 검증
- ✅ 보석 획득/소비 검증
- ✅ 오프라인 수익 계산 (최대 8시간)
- ✅ 기본 방치 수익 (분당 10 골드)

**파일**:
- [economy_manager.dart](../game/lib/features/economy/economy_manager.dart)

### 8. 세이브/로드 시스템 (100%) ✅
완전 구현 완료.

**구현 항목**:
- ✅ SaveManager (SharedPreferences 기반)
- ✅ 전체 게임 상태 저장 (경제, 재료, 제작소, 레시피, 상점)
- ✅ 자동 저장 (30초마다)
- ✅ 앱 시작 시 자동 로드
- ✅ 오프라인 생산 계산
- ✅ 수동 저장/불러오기 버튼

**파일**:
- [save_manager.dart](../game/lib/features/save/save_manager.dart)

### 9. UI/UX (100%) ✅
타이쿤 게임 UI 완성.

**구현 화면**:
- ✅ 메인 화면 (4개 탭)
  - **재료 탭**: 5개 재료 현황 및 생산 속도 표시
  - **제작 탭**: 5개 제작소별 제작 진행도, 레시피 선택
  - **상점 탭**: 고객 정보, 진열대, 아이템 판매
  - **업그레이드 탭**: 제작소 업그레이드, 레시피 해금
- ✅ 화폐 표시 바 (골드, 보석)
- ✅ 저장/불러오기 버튼 (AppBar)
- ✅ 진행도 바 및 타이머 표시
- ✅ 품질별 색상 코딩
- ✅ 한국어 UI

**파일**:
- [tycoon_screen.dart](../game/lib/screens/tycoon_screen.dart)

---

## ⬜ 미구현 기능

### 1. 던전 탐험 시스템 (0%)
재료를 획득하는 미니게임/자동 시스템.

**구현 필요 항목**:
- 간단한 던전 탐험 미니게임 또는 자동 탐험
- 재료 드롭 시스템
- 탐험 레벨 및 난이도
- 보상 확률

**참고**: 현재는 방치 생산으로만 재료 획득 가능. 던전 탐험은 선택 사항.

### 2. 업적 시스템 (0%)
플레이어 진행도 추적 및 보상.

**구현 필요 항목**:
- 업적 목록 (제작 횟수, 판매 금액 등)
- 업적 진행도 추적
- 보상 (골드, 보석, 레시피)

### 3. 상점 꾸미기 (0%)
상점 외형 커스터마이징.

**구현 필요 항목**:
- 상점 테마
- 데코레이션 아이템
- 비주얼 업그레이드

### 4. IAP 통합 (0%)
인앱 결제.

**구현 필요 항목**:
- 보석 패키지 구매
- 프리미엄 레시피
- 광고 제거

### 5. 광고 통합 (0%)
보상형 광고.

**구현 필요 항목**:
- 제작 즉시 완료
- 재료 2배
- 판매 가격 2배

---

## 📋 작업 이력

### 2025-12-17: 재구현 완료 (50% → 80%)
1. ✅ **잘못된 코드 제거**: 네온 레이서 전체 삭제
2. ✅ **재료 시스템**: MaterialData, MaterialInventory, 방치 생산
3. ✅ **제작 시스템**: Recipe, CraftingManager, CraftingJob, Quality
4. ✅ **상점 시스템**: Shop, Customer, 판매 로직
5. ✅ **경제 시스템**: EconomyManager, 오프라인 수익
6. ✅ **제작소 업그레이드**: StationManager, 속도/품질 보너스
7. ✅ **레시피 해금**: RecipeUnlocks, 선행 조건
8. ✅ **세이브/로드**: SaveManager, 자동 저장/로드
9. ✅ **UI**: 4개 탭 인터페이스, 한국어 UI

---

## 📊 진척도 요약

| 시스템 | 진척도 | 상태 |
|--------|--------|------|
| 게임 엔진 | 100% | ✅ 완료 |
| **재료 시스템** | 100% | ✅ 완료 |
| **제작 시스템** | 100% | ✅ 완료 |
| **상점 경영** | 100% | ✅ 완료 |
| 제작소 업그레이드 | 100% | ✅ 완료 |
| 레시피 해금 | 100% | ✅ 완료 |
| 화폐 시스템 | 100% | ✅ 완료 |
| 세이브/로드 | 100% | ✅ 완료 |
| UI/UX (타이쿤) | 100% | ✅ 완료 |
| 던전 탐험 | 0% | ⬜ 선택 사항 |
| 업적 시스템 | 0% | ⬜ 미착수 |
| 상점 꾸미기 | 0% | ⬜ 미착수 |
| IAP/광고 | 0% | ⬜ 미착수 |

**전체 진척도**: 80% (핵심 게임플레이 완료)

---

## 🎮 플레이 가능한 기능

### 현재 플레이 가능:
1. ✅ **재료 수집**: 5가지 재료가 자동으로 생산됨
2. ✅ **아이템 제작**: 10개 레시피 중 해금된 것 선택하여 제작
3. ✅ **품질 시스템**: 제작 시 무작위 품질 결정 (일반~걸작)
4. ✅ **상점 판매**: 고객이 방문하여 아이템 구매
5. ✅ **제작소 업그레이드**: 골드와 재료로 제작소 레벨업
6. ✅ **레시피 해금**: 골드로 새로운 레시피 해금
7. ✅ **방치 수익**: 앱을 끄고 다시 켜면 오프라인 생산 적용
8. ✅ **세이브/로드**: 진행도 자동 저장, 수동 저장/불러오기

### 게임 루프:
```
재료 자동 생산 → 제작소에서 아이템 제작 → 상점에 진열
→ 고객 방문 → 아이템 판매 → 골드 획득
→ 제작소 업그레이드 / 레시피 해금 → 반복
```

---

## 🐛 알려진 이슈

**현재 이슈 없음.** 핵심 시스템 모두 정상 동작.

---

## 📝 다음 작업 (선택 사항)

### 우선순위 1: 콘텐츠 확장
1. ⬜ **레시피 추가**: 현재 10개 → 30개 이상으로 확장
2. ⬜ **재료 추가**: 고급 재료 추가 (용의 비늘, 신성한 광석 등)
3. ⬜ **고객 다양화**: 다양한 고객 타입 추가

### 우선순위 2: 게임플레이 개선
1. ⬜ **던전 탐험**: 재료 획득 미니게임 추가 (선택 사항)
2. ⬜ **업적 시스템**: 플레이어 목표 제공
3. ⬜ **상점 꾸미기**: 시각적 커스터마이징

### 우선순위 3: 수익화
1. ⬜ **IAP 통합**: 보석 패키지 판매
2. ⬜ **광고 통합**: 보상형 광고
3. ⬜ **프리미엄 기능**: 즉시 완료, 자동 판매 등

### 우선순위 4: 폴리싱
1. ⬜ **애니메이션**: 제작 애니메이션, 고객 이동
2. ⬜ **파티클 효과**: 제작 완료 효과, 판매 효과
3. ⬜ **사운드**: BGM, 효과음

---

## 📚 관련 문서

- [GDD](design/gdd_game_0017.json) - 던전 크래프트 타이쿤 설계
- [Material Data](../game/lib/features/materials/material_data.dart) - 재료 정보
- [Recipe Data](../game/lib/features/crafting/recipe_data.dart) - 레시피 정보

---

**작성일**: 2025-12-17
**버전**: 2.0 (재구현 완료)
**작성자**: Claude Code (MG Development Assistant)

**✅ 프로젝트 상태**: 정상, GDD에 따라 재구현 완료, 핵심 게임플레이 플레이 가능
